(function(window,document){function Blinds(options){this.defaultdata={"wrapId":"wrapper","imgurl":["images/1.jpg","images/2.jpg","images/3.jpg","images/4.jpg","images/5.jpg"],"minWid":100};this.init(options)}Blinds.prototype={constructor:Blinds,init:function(options){var _default=this.defaultdata;this.extend(_default,options);this.wrapper=document.getElementById(_default.wrapId);this.wrapper.style.position="relative";this.wrapper.style.overflow="hidden";var ul=document.createElement("ul");this.wrapper.appendChild(ul);this.wrapUl=this.wrapper.getElementsByTagName("ul")[0];for(var i=0;i<_default.imgurl.length;i++){var li=document.createElement("li");li.style.width=this.getStyle(this.wrapper,"width");li.style.height=this.getStyle(this.wrapper,"height");li.style.backgroundImage="url("+_default.imgurl[i]+")";li.style.position="absolute";this.wrapUl.appendChild(li)}this.liList=this.wrapper.getElementsByTagName("li");this.defaultWid=this.liList[0].offsetWidth/this.liList.length;for(var i=0;i<this.liList.length;i++){this.liList[i].style.left=i*this.defaultWid+"px"}this.bind()},bind:function(){var _this=this;for(var i=0;i<this.liList.length;i++){this.liList[i].index=i;this.liList[i].onmouseover=function(){_this.render(this.index)};this.liList[i].onmouseout=function(){_this.render(-1)}}},render:function(index){var num=this.liList.length;var minWid=this.defaultdata.minWid;var toWid=this.liList[0].offsetWidth;if(index===-1){for(var i=0;i<this.liList.length;i++){this.animate(this.liList[i],{"left":i*this.defaultWid})}return false}for(var i=0;i<this.liList.length;i++){if(i<=index){this.animate(this.liList[i],{"left":i*minWid})}else{this.animate(this.liList[i],{"left":i*minWid+(toWid-minWid*num)})}}},animate:function(element,obj,fn){var _this=this;if(element.timer){clearInterval(element.timer)}element.timer=setInterval(function(){var flag=true;for(var k in obj){var attr=k;var target=obj[k];var leader=parseInt(_this.getStyle(element,attr))||0;var step=(target-leader)/10;step=step>0?Math.ceil(step):Math.floor(step);leader=leader+step;element.style[attr]=leader+"px";if(leader!=target){flag=false}}if(flag){clearInterval(element.timer);fn&&fn()}},15)},getStyle:function(element,attr){if(window.getComputedStyle){return window.getComputedStyle(element,null)[attr]}else{return element.currentStyle[attr]}},extend:function(oldObj,newObj){for(var k in newObj){oldObj[k]=newObj[k]}}};window.Blinds=Blinds})(window,document);